@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 98.5%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 220 9% 46%;
    --muted: 220 14% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 252 95% 96%;
    --accent-foreground: 239 84% 67%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 239 84% 67%;
    --radius: 0.75rem;
    --success: 160 84% 39%;
    --warning: 38 92% 50%;

    /* Sidebar */
    --sidebar-bg: 230 25% 9%;
    --sidebar-fg: 220 20% 80%;
    --sidebar-accent: 239 84% 67%;
    --sidebar-muted: 228 20% 18%;
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 210 20% 98%;
    --card: 224 71% 7%;
    --card-foreground: 210 20% 98%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;
    --secondary: 215 28% 17%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 28% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 239 30% 20%;
    --accent-foreground: 239 84% 74%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 239 84% 67%;

    --sidebar-bg: 224 71% 4%;
    --sidebar-fg: 220 20% 80%;
    --sidebar-accent: 239 84% 67%;
    --sidebar-muted: 215 28% 12%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }
  body {
    @apply bg-background text-foreground;
  }

  :focus-visible {
    @apply outline-none ring-2 ring-ring/30 ring-offset-2 ring-offset-background;
  }
}

@layer components {
  /* ——— PAGE HEADER ——— */
  .page-header {
    @apply mb-8;
  }
  .page-header h1 {
    @apply text-[1.75rem] font-semibold tracking-tight text-foreground leading-tight;
  }
  .page-header p {
    @apply text-[0.8125rem] text-muted-foreground mt-1.5 leading-relaxed;
  }

  /* ——— PREMIUM TABLE ——— */
  .premium-table {
    @apply w-full;
  }
  .premium-table thead {
    @apply border-b border-border/60;
  }
  .premium-table thead th {
    @apply text-left px-5 py-3.5 text-[11px] font-medium uppercase tracking-[0.08em] text-muted-foreground;
  }
  .premium-table tbody tr {
    @apply border-b border-border/30 transition-all duration-200;
  }
  .premium-table tbody tr:hover {
    @apply bg-muted/40;
  }
  .premium-table tbody td {
    @apply px-5 py-4 text-sm;
  }
  .premium-table tbody tr:last-child {
    @apply border-b-0;
  }

  /* ——— FILTER CONTROLS ——— */
  .filter-bar {
    @apply flex flex-wrap gap-3 items-end;
  }
  .filter-group {
    @apply flex flex-col gap-1.5;
  }
  .filter-group label {
    @apply text-[11px] font-medium uppercase tracking-[0.06em] text-muted-foreground;
  }
  .filter-select {
    @apply h-9 rounded-lg border border-border/60 bg-card px-3 py-1 text-sm 
           transition-all duration-200 
           focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary/40
           hover:border-border
           appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.25em 1.25em;
    padding-right: 2rem;
  }

  /* ——— STATUS BADGES ——— */
  .status-dot {
    @apply inline-block h-1.5 w-1.5 rounded-full mr-1.5 shrink-0;
  }
  .status-badge {
    @apply inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-[11px] font-medium;
  }
  .status-badge-accepted {
    @apply bg-emerald-500/10 text-emerald-700;
  }
  .status-badge-cancelled {
    @apply bg-rose-500/10 text-rose-600;
  }
  .status-badge-pending {
    @apply bg-amber-500/10 text-amber-700;
  }
  .status-badge-inquiry {
    @apply bg-blue-500/10 text-blue-700;
  }
  .status-badge-completed {
    @apply bg-slate-500/10 text-slate-600;
  }
  .status-badge-default {
    @apply bg-gray-500/10 text-gray-600;
  }

  /* ——— CHANNEL BADGES ——— */
  .channel-badge {
    @apply inline-flex items-center rounded-md px-2 py-0.5 text-[11px] font-medium;
  }
  .channel-airbnb { @apply bg-rose-500/[0.08] text-rose-600; }
  .channel-vrbo { @apply bg-blue-500/[0.08] text-blue-600; }
  .channel-direct { @apply bg-violet-500/[0.08] text-violet-600; }
  .channel-booking { @apply bg-indigo-500/[0.08] text-indigo-600; }
  .channel-default { @apply bg-gray-500/[0.08] text-gray-500; }

  /* ——— SKELETON SHIMMER ——— */
  .skeleton {
    @apply relative overflow-hidden rounded-lg bg-muted/60;
  }
  .skeleton::after {
    content: '';
    @apply absolute inset-0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shimmer 1.5s ease-in-out infinite;
  }
}

@layer utilities {
  /* Mesh gradient background for content area */
  .bg-mesh {
    background-color: hsl(var(--background));
    background-image:
      radial-gradient(at 20% 0%, hsl(239 84% 67% / 0.03) 0px, transparent 50%),
      radial-gradient(at 80% 100%, hsl(280 80% 60% / 0.03) 0px, transparent 50%),
      radial-gradient(at 0% 50%, hsl(200 80% 60% / 0.02) 0px, transparent 50%);
  }

  /* Glass */
  .glass {
    @apply bg-white/80 backdrop-blur-xl border border-white/40;
  }
  .glass-subtle {
    @apply bg-white/60 backdrop-blur-lg border border-white/30;
  }

  /* Gradient text */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-violet-500 to-primary;
  }

  /* Glow effects */
  .glow-sm {
    box-shadow: 0 0 20px -5px hsl(var(--primary) / 0.15);
  }
  .glow-md {
    box-shadow: 0 0 40px -10px hsl(var(--primary) / 0.2);
  }

  /* Stat card accent bar */
  .stat-accent {
    @apply relative overflow-hidden;
  }
  .stat-accent::before {
    content: '';
    @apply absolute top-0 left-0 w-0.5 h-full;
  }
  .stat-accent-blue::before { background: linear-gradient(to bottom, #3b82f6, #60a5fa); }
  .stat-accent-green::before { background: linear-gradient(to bottom, #10b981, #34d399); }
  .stat-accent-amber::before { background: linear-gradient(to bottom, #f59e0b, #fbbf24); }
  .stat-accent-purple::before { background: linear-gradient(to bottom, #8b5cf6, #a78bfa); }
  .stat-accent-rose::before { background: linear-gradient(to bottom, #f43f5e, #fb7185); }
  .stat-accent-cyan::before { background: linear-gradient(to bottom, #06b6d4, #22d3ee); }
  .stat-accent-indigo::before { background: linear-gradient(to bottom, #6366f1, #818cf8); }

  /* Hover lift */
  .hover-lift {
    @apply transition-all duration-200;
  }
  .hover-lift:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px -2px rgb(0 0 0 / 0.08), 0 2px 4px -2px rgb(0 0 0 / 0.04);
  }
}

/* ——— SCROLLBAR ——— */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  @apply bg-border/60 rounded-full;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/30;
}

/* ——— ANIMATIONS ——— */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-up {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-in-left {
  from { opacity: 0; transform: translateX(-12px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes scale-in {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.animate-fade-in {
  animation: fade-in 0.35s ease-out forwards;
}
.animate-slide-up {
  animation: slide-up 0.5s ease-out forwards;
}
.animate-slide-in-left {
  animation: slide-in-left 0.3s ease-out forwards;
}
.animate-scale-in {
  animation: scale-in 0.3s ease-out forwards;
}
.animate-pulse-subtle {
  animation: pulse-subtle 2s ease-in-out infinite;
}
.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 8s ease infinite;
}
